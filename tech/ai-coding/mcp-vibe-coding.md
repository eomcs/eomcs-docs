# MCP 연동 바이브 코딩

## 1. MCP(Model Context Protocol) 개요


### 1.1 정의
- **MCP**는 **AI 모델(LLM)** 이 단순 텍스트 대화 맥락을 넘어, **외부 도구, 데이터, 파일, API, 시스템 자원에 접근**할 수 있도록 하는 **표준 프로토콜**
- 즉, 여러 소스(문서, 코드베이스 등)를 통합하여 AI가 프로젝트 맥락을 이해하도록 돕는 기술
- 대규모 프로젝트에서 AI가 생성하고 제안하는 코드의 품질을 향상시킴
- OpenAI와 Anthropic 등 여러 AI 회사가 주도적으로 도입하고 있으며, AI가 "독립된 챗봇"이 아니라 "개발 환경/업무 도구 속에서 동작하는 협력자"로 기능함

### 1.2 등장 배경

기존 LLM의 한계:
- **짧은 컨텍스트 한계** 
    - LLM은 입력 토큰 제한 때문에 **대규모 코드베이스, 장기 프로젝트, 방대한 문서**를 다루는 데 제약이 있음
    - 예: 수천 개 파일로 이루어진 리포지토리에서 모델이 전체 맥락을 기억하지 못함.
- **환경 단절**
    - 모델은 본질적으로 **순수 텍스트 생성기**이므로, IDE, API, DB, 파일 시스템, CI/CD 같은 **실제 실행 환경에 접근할 수 없음**
    - 따라서 모델이 "코드를 작성해도 실행/테스트/배포"까지 연결되지 못하는 문제가 발생
- **사일로(Silo) 문제**
    - 기존 접근(예: OpenAI Plugins, LangChain Tools)은 **각 벤더·프레임워크에 종속**되어 있었습니다.
    - 이로 인해 도구 간 호환성 부족, 유지보수 어려움, 생태계 분절화 문제가 생김.
- **보안·통제 문제**
    - 모델이 외부 시스템과 직접 통신하면 **데이터 유출 위험**이 큼
    - 신뢰성 있는 **중재 계층이 필요**했음.

이를 해결하기 위해 **표준화된 인터페이스로서 MCP가 등장**. 즉, 모델이 안전하고 표준화된 방식으로 IDE·API·DB·파일 시스템 등 다양한 리소스에 접근할 수 있게 해주고, 특정 회사나 프레임워크 종속이 아니라 **오픈 프로토콜로 설계되어 상호운용성을 보장**하며, 컨텍스트 관리와 권한 제어까지 가능하게 함.

### 1.3 구조 및 동작 방식

MCP는 크게 클라이언트, 서버, 모델 세 부분으로 구성됩니다.

- Client (예: IDE, 애플리케이션, 에이전트 런타임)
    - 사용자와 직접 상호작용하는 환경.
    - **모델과 MCP 서버 사이의 중개자(브로커)** 역할.
    - 모델이 보낸 요청을 해석하고, MCP 서버가 제공하는 기능을 호출한 뒤 결과를 모델에게 다시 전달.
- MCP Server (도구/데이터 제공자)
    - 데이터베이스, API, 파일 시스템, 사내 툴 등 다양한 기능을 MCP 표준 형식으로 노출.
    - 예: Git MCP 서버, Postgres MCP 서버, Jira MCP 서버.
    - 클라이언트의 호출을 받아 실제 작업을 실행하고 응답을 반환.
- Model (LLM)
    - 사용자의 프롬프트를 해석하고, 필요할 때 클라이언트에게 외부 리소스 접근 요청을 전달.
    - **직접 MCP 서버와 통신하지 않고**, “function call” 스타일의 메시지를 클라이언트에 위임.
    - 클라이언트가 MCP 서버와 통신한 결과를 받아 활용.

#### 기본 흐름:   
```
모델 ↔ 클라이언트 ↔ MCP 서버
```

즉, 모델이 곧바로 MCP 서버에 접근하는 게 아니라, 항상 클라이언트를 통해서만 서버와 통신합니다.

- 구동 과정 예) Claude (모델) ↔ Cursor IDE (클라이언트) ↔ Git MCP 서버
    - Claude는 "최근 변경 내역 보여줘"라고 요청.
    - Claude → Cursor (클라이언트)에게 "Git diff 리소스 요청" 신호.
    - Cursor → Git MCP 서버에게 실제 git diff 호출.
    - 응답을 Cursor가 다시 Claude에게 전달.

#### 클라이언트의 역할:

- **보안·권한 제어**
    - 모델이 직접 파일 시스템이나 DB에 접근하면 위험하기 때문에, **시스템·DB·API에 접근하지 않도록 중개자 역할**을 한다.
    - **접근 권한**(읽기/쓰기, 특정 리소스 제한 등)을 사용자·시스템 정책 기반으로 **필터링**합니다.
    - 예: "읽기는 허용, 쓰기는 금지", "특정 디렉토리만 접근 가능" 같은 정책 설정.
- **표준화된 인터페이스 제공**
    - MCP 서버는 여러 형태(API, DB, 툴, 파일 시스템 등)일 수 있음.
    - 클라이언트가 이를 **모델이 이해할 수 있는 MCP 표준 메시지 형식(JSON-RPC 기반)** 으로 변환해 모델이 이해할 수 있게 함.
    - 즉, 클라이언트는 **모델 ↔ MCP 서버 간 통신 어댑터** 역할.
- **컨텍스트 유지**
    - 모델이 어떤 요청을 했는지, MCP 서버가 어떤 응답을 반환했는지 **세션 단위로 추적·기록**한다.
    - 이를 통해 모델이 장기 **작업에서도 맥락(Context)을 유지**할 수 있도록 돕는다.
    - 필요하면 **결과를 요약·재구성하여 모델에게 전달**하기도 한다.


### 1.4 주요 기능

- **리소스 접근 (Resources)**
    - 파일, 데이터베이스 레코드, API 엔드포인트 같은 외부 리소스를 모델이 읽고 쓸 수 있음.
- **메서드 호출 (Procedures)**
    - 모델이 특정 기능(API 호출, DB 쿼리 실행, CI/CD 트리거 등)을 실행할 수 있음.
- **이벤트 스트리밍**
    - 모델이 외부 환경에서 발생하는 이벤트(예: Git 커밋, 빌드 상태, 새 이메일)를 실시간으로 구독할 수 있음.
- **권한 제어**
    - 사용자는 모델이 MCP 서버에 어떤 권한을 가지고 있는지 제어 가능.
    - 예: "파일 읽기만 허용, 쓰기는 금지"

### 1.5 장점

- **표준화**: 특정 벤더나 프레임워크에 종속되지 않고, 동일한 인터페이스로 다양한 도구 연결.
- **보안/투명성**: 모델이 어떤 데이터에 접근했는지, 어떤 작업을 실행했는지 로깅·통제 가능.
- **확장성**: 개발자가 원하는 MCP 서버를 직접 만들 수 있음. (예: ERP, CRM, 내부 API)
- **협업 최적화**: IDE, 브라우저, 채팅툴 등 다양한 환경에서 동일하게 작동.

### 1.6 활용 예시

- **개발 환경 (IDE + AI)**
    - MCP 서버: Git, Postgres, Docker
    - 모델: Claude, GPT
    - IDE(Cursor, Windsurf): "테스트 코드 수정해줘" → 모델이 MCP를 통해 Git diff 확인 → 수정 → 커밋
- **데이터 분석**
    - MCP 서버: Snowflake, BigQuery
    - 모델: GPT-5
    - "지난주 매출 트렌드 알려줘" → SQL 쿼리 생성 → DB MCP 서버 통해 실행 → 결과 시각화
- **업무 자동화**
    - MCP 서버: Slack, Jira, Notion
    - 모델: Claude
    - "이번 주 스프린트 요약해줘" → Jira MCP로 티켓 조회 → Notion에 정리 → Slack 알림 전송

### 1.7 MCP와 기존 접근법 비교

| 방식                         | 특징                       | 한계                 |
| -------------------------- | ------------------------ | ------------------ |
| **플러그인 (ChatGPT Plugins)** | 특정 벤더(예: OpenAI) 생태계에 의존 | 범용성 낮음, 폐쇄적        |
| **LangChain Tools**        | 파이썬/JS 기반 툴 연결           | 프레임워크 종속, 표준 부족    |
| **MCP**                    | 오픈 프로토콜, 다양한 도구 연결 가능    | 아직 초기 단계, 도입·구현 필요 |

### 1.8 바이브 코딩과 MCP

- 바이브 코딩에서는 인간+AI가 끊김 없는 흐름으로 협력해야 하는데, 이때 MCP는 AI가 IDE와 외부 자원(Git, DB, CI/CD, PRD 문서 등)을 직접 접근할 수 있는 연결 고리 역할을 수행
- 즉, **MCP = “AI를 개발자 동료로 만드는 신경망”**이라고 볼 수 있음

### 1.9 요약
**MCP(Model Context Protocol)**은 AI 모델이 외부 도구·데이터·환경과 안전하고 표준화된 방식으로 상호작용할 수 있게 만드는 오픈 프로토콜이다.
이는 단순 대화형 AI를 넘어서, **실제 개발·데이터·업무 흐름에 깊게 통합된 “AI 동료”**를 가능하게 한다.

## 2. 바이브 코딩에서 MCP의 역할

### 2.1 맥락(Context) 연결자

AI 모델이 단순 대화 맥락뿐 아니라,

- 현재 열려 있는 프로젝트 파일 구조
- 외부 API 상태
- Git 이력
- 작업 관리 도구(TaskMaster AI 등) 

같은 “외부 컨텍스트”에 접근할 수 있도록 표준화된 인터페이스를 제공.

### 2.2 AI와 도구 간의 브리지(Bridge)

에디터(Cursor, Windsurf, VSCode 등) 안에서 AI가

- 파일 읽기/쓰기
- 테스트 실행
- 데이터베이스 질의
- CI/CD 파이프라인 확인

같은 실제 개발 환경의 도구를 호출할 수 있게 연결.

### 2.3 지속적 워크플로우 유지

TaskMaster AI 같은 “AI PM(Project Manager)” 툴과 연동해

- PRD → Task 자동 분해
- Task 진행 상황 추적
- 다음 단계 제안

을 가능하게 하며, 개발자는 **흐름(vibe)**을 잃지 않고 코딩.

### 2.4 멀티 에이전트 협력 기반

MCP는 단일 모델이 아니라,

- Claude가 기획/문서화,
- GPT가 코드 작성,
- Gemini가 검색/데이터 처리

같은 역할 분담형 멀티 모델/멀티 에이전트 협업도 가능하게 설계됨.


### 2.5 요약

- AI = 개발자 조수
- 바이브 코딩 = 인간+AI가 페어 프로그래밍하는 분위기
- MCP = IDE와 외부 세계를 잇는 통역사

→ 덕분에 AI가 단순 “텍스트 챗봇”을 넘어서 실제 개발 환경에서 행동하는 동료가 되는 것.

바이브 코딩에서 **MCP는 AI가 단절되지 않고 개발 환경 전체(코드, 툴, 프로젝트 맥락)와 상호작용하게 해주는 표준 프로토콜**이다. 즉, AI가 vibe를 깨지 않고 장기·복잡한 코딩 세션을 이어가도록 돕는 핵심 인프라라고 할 수 있다.

## 3. MCP 연동 바이브 코딩 실습

### 3.1 준비물
- Cursor IDE 설치 및 계정 생성
- Claude 계정 생성 (Anthropic)
- GitHub 계정 생성 및 Git 설치
- Node.js 및 npm 설치
- JDK 17+ 설치
- MCP 서버 설정 (예: Git MCP, Postgres MCP 등)  